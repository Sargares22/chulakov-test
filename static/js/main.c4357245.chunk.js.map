{"version":3,"sources":["helpers/i18n.js","components/Header/HeaderDisplay.js","components/Header/HeaderSort.js","components/Header/HeaderLanguage.js","components/Header/HeaderSearch.js","components/Header/HeaderFavourites.js","redux/actions.js","redux/types.js","containers/Header.js","helpers/functions.js","components/Post.js","components/Loader.js","hooks/index.js","selectors/index.js","containers/Users.js","containers/Favourites.js","App.js","redux/reducer/index.js","redux/reducer/appReducer.js","redux/reducer/favourites.js","redux/reducer/users.js","index.js","middleware/index.js"],"names":["i18n","use","initReactI18next","init","fallbackLng","lng","resources","en","translation","translation_en","ru","translation_ru","HeaderDisplay","changeViewType","viewType","t","className","onClick","HeaderSort","sortingType","sortingOrder","sortingData","HeaderLanguage","changeLang","language","changeLanguage","HeaderSearch","searchString","handleSearchInput","onChange","e","target","value","required","HeaderFavourites","isFavourites","useLocation","pathname","includes","query","search","to","fetchedData","Promise","resolve","setTimeout","data","fetchData","dispatch","type","then","payload","favourites","filter","item","favourite","toggleFavouriteProperty","id","addFavourite","removeFavourite","Header","useTranslation","useDispatch","useSelector","app","sorting","order","sortingBy","getValueFromUrl","text","URLSearchParams","window","location","get","sortingByType","users","sort","a","b","first","second","toLowerCase","fuseSearch","Fuse","useExtendedSearch","threshold","shouldSort","keys","map","React","memo","toggleFavourite","ind","age","image","name","phone","phrase","video","isPreview","src","alt","lastDigit","translateAge","controls","preload","loop","Loader","useListObserver","containerId","useState","observer","setObserver","useEffect","newObserver","IntersectionObserver","entries","forEach","entry","isIntersecting","classList","add","rootMargin","disconnect","observeList","useCallback","document","getElementById","childNodes","node","remove","offsetTop","pageYOffset","innerHeight","offsetHeight","observe","useVideoObserver","videos","setVideos","play","pause","stopOthersVideos","playedVideo","paused","onplay","observeVideos","currentVideos","tagName","push","getSorting","state","getSearch","sortAndFilter","createSelector","reverse","sortAndFilterFavourites","Users","userList","loading","length","Post","key","style","fontSize","textAlign","Favourites","App","history","exact","path","component","initState","action","concat","createBrowserHistory","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","router","connectRouter","applyMiddleware","thunk","next","getState","currentQueries","Object","values","delete","set","routerMiddleware","render"],"mappings":"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","file":"static/js/main.c4357245.chunk.js","sourcesContent":["import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport translation_en from \"../assets/translations/en.json\";\r\nimport translation_ru from \"../assets/translations/ru.json\";\r\n\r\n\r\n\r\ni18n\r\n\t.use(initReactI18next)\r\n\t\t.init({\r\n\t\tfallbackLng: \"ru\",\r\n\t\tlng: 'ru',\r\n\t\tresources: {\r\n\t\t\ten: {\r\n\t\t\t\ttranslation: translation_en,\r\n\t\t\t},\r\n\t\t\tru: {\r\n\t\t\t\ttranslation: translation_ru,\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nexport default i18n;\r\n","import React from 'react'\r\n\r\n\r\nexport const HeaderDisplay = ({changeViewType, viewType, t}) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"btn-group display\">\r\n\t\t\t<button className={`btn-group__item ${viewType === 'table' ? 'active' : ''}`} onClick={() => changeViewType('table')}>{t(\"header.view_type.table\")}</button>\r\n\t\t\t<button className={`btn-group__item ${viewType === 'preview' ? 'active' : ''}`} onClick={() => changeViewType('preview')}>{t(\"header.view_type.preview\")}</button>\r\n\t\t</div>\t\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const HeaderSort = ({sortingType, sortingOrder, sortingData, t}) => {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"btn-group filter\">\r\n\t\t\t\t<button className={`btn-group__item  ${sortingType === 'id' ? 'active': ''}`} onClick={() => sortingData('id', sortingOrder)}>{t(\"header.sort_type.id\")}</button>\r\n\t\t\t\t<button className={`btn-group__item  ${sortingType === 'name' ? 'active': ''}`} onClick={() => sortingData('name', sortingOrder)}>{t(\"header.sort_type.name\")}</button>\r\n\t\t\t\t<button className={`btn-group__item  ${sortingType === 'age' ? 'active': ''}`} onClick={() => sortingData('age', sortingOrder)}>{t(\"header.sort_type.age\")}</button>\r\n\t\t\t</div>\t\t\r\n\t\t\t<div className=\"btn-group sort\">\r\n\t\t\t\t<button className={`btn-group__item  ${sortingOrder === 'asc' ? 'active': ''}`} onClick={() => sortingData(sortingType)}>{t(\"header.sort_type.asc\")}</button>\r\n\t\t\t\t<button className={`btn-group__item  ${sortingOrder === 'desc' ? 'active': ''}`} onClick={() => sortingData(sortingType, 'desc')}>{t(\"header.sort_type.desc\")}</button>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\n\r\nexport const HeaderLanguage = ({changeLang, language, t, i18n}) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"btn-group change-lang\">\r\n\t\t\t<button className={`btn-group__item ${language === 'ru' ? 'active' : ''}`} onClick={() => {\r\n\t\t\t\tchangeLang('ru')\r\n\t\t\t\ti18n.changeLanguage(\"ru\")\r\n\t\t\t}}>{t(\"header.language_type.ru\")}</button>\r\n\t\t\t<button className={`btn-group__item ${language === 'en' ? 'active' : ''}`} onClick={() => {\r\n\t\t\t\tchangeLang('en')\r\n\t\t\t\ti18n.changeLanguage(\"en\")\r\n\t\t\t}}>{t(\"header.language_type.en\")}</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react';\r\n\r\nexport const HeaderSearch = ({searchString, handleSearchInput}) => {\r\n\t\r\n\treturn (\r\n\t\t<input onChange={e => handleSearchInput(e.target.value)} value={searchString} required/>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport {NavLink} from 'react-router-dom';\r\nimport { useLocation } from 'react-router'\r\n\r\nexport const HeaderFavourites = () => {\r\n\r\n\tconst isFavourites = useLocation().pathname.includes('favourites')\r\n\tconst query = useLocation().search;\r\n\r\n\r\n\treturn <div  className=\"favourite__btn\"> <NavLink to={isFavourites ? `/${query}` :`/favourites${query}`}><i className={`star ${isFavourites ? 'active': ''}`}></i></NavLink> </div> \r\n\t\r\n}\r\n","import data from '../assets/data'\r\nimport { FETCH_DATA, DATA_LOADING, SORTING_BY, CHANGE_LANGUAGE, SEARCH_BY, CHANGE_DATA_DISPLAY, INIT_FAVOURITES, REMOVE_FAVOURITE, ADD_FAVOURITE, TOGGLE_FAVOURITE_PROPERTY } from './types';\r\n\r\nconst fetchedData = new Promise((resolve) => {\r\n\tsetTimeout(() => {\r\n\t\tresolve(data)\r\n\t}, 300)\r\n})\r\n\r\n\r\nexport const fetchData = () => dispatch => {\r\n\tdispatch(showLoader())\r\n\tfetchedData\r\n\t\t.then(data => {\r\n\t\t\tdispatch({type: FETCH_DATA, payload: data})\r\n\t\t\tlet favourites = data.filter(item => item.favourite)\r\n\t\t\tdispatch({type: INIT_FAVOURITES, payload: favourites})\r\n\t\t})\r\n}\r\n\r\nexport function showLoader() {\r\n\treturn {\r\n\t\ttype: DATA_LOADING\r\n\t}\r\n}\r\n\r\n\r\nexport function changeDataDisplay(type) {\r\n\treturn {\r\n\t\ttype: CHANGE_DATA_DISPLAY,\r\n\t\tpayload: {\r\n\t\t\tviewType: type\r\n\t\t}\r\n\t}\r\n}\r\nexport const sortingBy = (type, order = 'asc') => {\r\n\treturn {\r\n\t\ttype: SORTING_BY,\r\n\t\tpayload: {\r\n\t\t\tsortingType: type,\r\n\t\t\tsortingOrder: order\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const changeLanguage = lang => {\r\n\treturn {\r\n\t\ttype: CHANGE_LANGUAGE,\r\n\t\tpayload: lang\r\n\t}\r\n}\r\nexport const searchBy = string => {\r\n\treturn {\r\n\t\ttype: SEARCH_BY,\r\n\t\tpayload: {\r\n\t\t\tsearchString: string\r\n\t\t}\r\n\t}\r\n}\r\nexport const toggleFavouriteProperty = (id, value) => {\r\n\treturn {\r\n\t\ttype: TOGGLE_FAVOURITE_PROPERTY,\r\n\t\tpayload: {\r\n\t\t\tid,\r\n\t\t\tvalue\r\n\t\t}\r\n\t}\r\n}\r\nexport const addFavourite = data => dispatch => {\r\n\r\n\tdispatch({type: ADD_FAVOURITE,payload: data})\r\n\tdispatch(toggleFavouriteProperty(data.id, true))\r\n\r\n}\r\nexport const removeFavourite = id => dispatch => {\r\n\r\n\tdispatch(toggleFavouriteProperty(id, false))\r\n\tdispatch({type: REMOVE_FAVOURITE,payload: id})\r\n\t\r\n}\r\n\r\n","export const FETCH_DATA = 'FETCH_DATA'\r\nexport const DATA_LOADING = 'DATA_LOADING'\r\nexport const CHANGE_DATA_DISPLAY = 'CHANGE_DATA_DISPLAY'\r\nexport const DISPLAY_TABLE = 'DISPLAY_TABLE'\r\nexport const DISPLAY_PREVIEW = 'DISPLAY_PREVIEW'\r\nexport const FILTER_TYPE = 'FILTER_TYPE'\r\nexport const SORTING_BY = 'SORTING_BY'\r\nexport const ORDER_DATA = 'ORDER_DATA'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const SEARCH_BY = 'SEARCH_BY'\r\nexport const INIT_FAVOURITES = 'INIT_FAVOURITES'\r\nexport const ADD_FAVOURITE = 'ADD_FAVOURITE'\r\nexport const REMOVE_FAVOURITE = 'REMOVE_FAVOURITE'\r\nexport const TOGGLE_FAVOURITE_PROPERTY = 'TOGGLE_FAVOURITE_PROPERTY'\r\n\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\n\r\nimport { HeaderDisplay } from '../components/Header/HeaderDisplay';\r\nimport { HeaderSort } from '../components/Header/HeaderSort';\r\nimport { HeaderLanguage } from '../components/Header/HeaderLanguage';\r\nimport { HeaderSearch } from '../components/Header/HeaderSearch';\r\nimport { HeaderFavourites } from '../components/Header/HeaderFavourites';\r\nimport { sortingBy, searchBy, changeDataDisplay, changeLanguage } from '../redux/actions';\r\n\r\nexport const Header = () => {\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\tconst dispatch = useDispatch();\r\n\tconst {sorting: {sortingType, sortingOrder}, searchString, language, viewType} = useSelector(({app}) => app);\r\n\r\n\tconst sortingData = (type, order) => dispatch(sortingBy(type, order))\r\n\tconst handleSearchInput = (value) => dispatch(searchBy(value))\r\n\tconst changeViewType = (value) => dispatch(changeDataDisplay(value))\r\n\tconst changeLang = (value) => dispatch(changeLanguage(value))\r\n\r\n\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"filters\">\r\n\t\t\t\t\t<div className=\"filters__title\">{t(\"header.sorting\")}</div>\r\n\t\t\t\t\t<HeaderSort sortingData={sortingData} sortingType={sortingType} sortingOrder={sortingOrder} t={t}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"display\">\r\n\t\t\t\t\t<div className=\"display__title\">{t(\"header.view\")}</div>\r\n\t\t\t\t\t<HeaderDisplay t={t} changeViewType={changeViewType} viewType={viewType}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"change-lang\">\r\n\t\t\t\t\t<div className=\"change-lang__title\">{t(\"header.language\")}</div>\r\n\t\t\t\t\t<HeaderLanguage changeLang={changeLang} language={language} t={t} i18n={i18n}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"favourites\">\r\n\t\t\t\t\t<div className=\"favourites__title\">{t(\"header.favourites\")}</div>\r\n\t\t\t\t\t<HeaderFavourites/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* TODO */}\r\n\t\t\t\t{/* <div className=\"theme-picker\">\r\n\t\t\t\t\t<div className=\"theme-picker__title\">{t(\"header.theme-picker\")}</div>\r\n\t\t\t\t\t<div className=\"btn-group theme-picker\">\r\n\t\t\t\t\t\t<button className=\"btn-group__item active grey\"></button>\r\n\t\t\t\t\t\t<button className=\"btn-group__item red\"></button>\r\n\t\t\t\t\t\t<button className=\"btn-group__item blue\"></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> */}\r\n\t\t\t\t{/* TODO */}\r\n\t\t\t\t<div className=\"search\">\r\n\t\t\t\t\t<div className=\"search__title\">{t(\"header.search\")}</div>\r\n\t\t\t\t\t<HeaderSearch handleSearchInput={handleSearchInput} searchString={searchString} t={t}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n","import Fuse from \"fuse.js\";\r\n\r\nexport const basePath = true ? '/chulakov-test': ''\r\n\r\nexport const getValueFromUrl = text => new URLSearchParams(window.location.search).get(text);\r\n\r\nexport const translateAge = age => {\r\n\r\n\tconst lastDigit = age % 10;\r\n\r\n\tif (lastDigit === 1) {\r\n\t \treturn 'year';\r\n\t}\r\n\tif (lastDigit > 1 && lastDigit < 5) {\r\n\t  \treturn 'year1';\r\n\t}\r\n\t\treturn 'years';\r\n\t};\r\n\r\nexport const sortingByType = (users, sortingType) => {\r\n\tconst sortingFunction = (a, b) => {\r\n  \r\n\t  let first = a[sortingType];\r\n\t  let second = b[sortingType];\r\n  \r\n\t  if (typeof first === 'string' || typeof second === 'string') {\r\n\t\t  first = first.toLowerCase();\r\n\t\t  second = second.toLowerCase();\r\n\t  }\r\n\t  if (first <= second) return -1;\r\n  \r\n\t  return 1;\r\n  };\r\n  return [...users].sort(sortingFunction)\r\n\r\n}\r\n\r\nexport const fuseSearch = (data, searchString) => {\r\n\tlet fuse = new Fuse(data, {\r\n\t\t// minMatchCharLength: 3,\r\n\t\tuseExtendedSearch: true,\r\n\t\tthreshold: 0.25,\r\n\t\tshouldSort: false,\r\n\t\tkeys: [\"name\"]\r\n\t});\r\n\r\n\treturn fuse.search(searchString).map(({item}) => item)\r\n}\t","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { translateAge, basePath } from '../helpers/functions';\r\n\r\n\r\nexport default React.memo(({data, viewType, ind, toggleFavourite}) => {\r\n\r\n\tconst {favourite, age, image, name, phone, phrase, video } = data\r\n\tconst isPreview = viewType === 'preview'\r\n\tconst { t } = useTranslation();\r\n\t\r\n\treturn (\r\n\t\t\t<li \r\n\t\t\t\tclassName={`main-data__item ${isPreview && video ? 'video': ''}`}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"main-data__text-block\">\r\n\t\t\t\t\t<div className=\"main-data__icon\">\r\n\t\t\t\t\t\t<img src={`${basePath}/images/${image}.svg`} alt={image} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"main-data__name\">{name}</div>\r\n\t\t\t\t\t<div className=\"main-data__age\">{age} {t(`main.age_type.${translateAge(age)}`)}</div>\r\n\t\t\t\t\t<div className=\"main-data__phone\">{phone}</div>\r\n\t\t\t\t\t<div className=\"main-data__star \"><i  onClick={() => toggleFavourite(data, favourite)} className={`star ${favourite ? 'active': ''}`}></i></div>\r\n\t\t\t\t\t<div className=\"main-data__phrase\">{phrase}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{isPreview && video && <div className=\"main-data__video\">\r\n\t\t\t\t\t<video controls preload={'none'} loop >\r\n\t\t\t\t\t\t<source src={`${basePath}/videos/${video}.mp4`} type=\"video/mp4\" />\r\n\t\t\t\t\t</video>\r\n\t\t\t\t</div>}\r\n\t\t\t</li>\r\n\t)\r\n})","import React from 'react'\r\n\r\nexport const Loader = () => {\r\n\treturn (\r\n\t\t<div className=\"spinner-second\">\r\n\t\t\t<div className=\"spinner\">\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div><div></div></div>\r\n\t\t\t\t<div><div></div></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n","import { useState, useEffect, useCallback } from 'react';\r\n\r\nexport const useListObserver = (containerId, viewType) => {\r\n\t\r\n\tconst [ observer, setObserver ] = useState(null);\r\n\tuseEffect(() => {\r\n\r\n\t\tconst newObserver = new IntersectionObserver(entries => {\r\n\t\r\n\t\t\tentries.forEach(entry => {\r\n\t\t\t\t\r\n\t\t\t\tif(entry.isIntersecting) entry.target.classList.add('fadeIn');\r\n\t\t\t});\r\n\t\t},{\r\n\r\n\t\t\trootMargin: '0px',\r\n\t\t\tthreshold: 0.2\r\n\r\n\t\t});\r\n\r\n\t\tsetObserver(newObserver);\r\n\r\n\t\treturn () => newObserver.disconnect();\r\n\t\t\r\n\t}, []);\r\n\r\n\tconst observeList = useCallback(() => {\r\n\r\n\t\tif(!observer) return;\r\n\t\t\t\r\n\t\tdocument.getElementById(containerId).childNodes.forEach((node, ind) => {\r\n\r\n\t\t\tnode.classList.remove('fadeIn');\r\n\r\n\t\t\tif (node.offsetTop < window.pageYOffset + window.innerHeight && node.offsetTop > window.pageYOffset - node.offsetHeight) {\r\n\t\t\t\t\tnode.classList.add('fadeIn');\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdocument.getElementById(containerId).childNodes.forEach((node) => {\r\n\t\t\tobserver.observe(node);\r\n\t\t});\r\n\r\n\t}, [ containerId, observer, viewType]);\r\n\r\n\treturn {\r\n\t\tobserveList,\r\n\t}\r\n}\r\n\r\nexport const useVideoObserver = (containerId) => {\r\n\r\n\tconst [ observer, setObserver ] = useState(null);\r\n\tconst [ videos, setVideos ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst newObserver = new IntersectionObserver((entries) => {\r\n\t\t\tentries.forEach((entry) => {\r\n\r\n\t\t\t\tif (entry.isIntersecting) entry.target.play();\r\n\t\t\t\telse entry.target.pause();\r\n\t\t\t});\r\n\t\t}, {\r\n\t\t\trootMargin: '-40% 0% -40% 0%',\r\n\t\t\tthreshold: 0\r\n\t\t});\r\n\r\n\t\tsetObserver(newObserver);\r\n\t\treturn () => newObserver.disconnect();\r\n\t\t\r\n\t}, []);\r\n\r\n\tconst stopOthersVideos = useCallback((playedVideo) => {\r\n\r\n\t\tvideos.forEach((video) => {\r\n\t\t\tif (video === playedVideo){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if (!video.paused)\r\n\t\t\t\tvideo.pause();\r\n\t\t});\r\n\r\n\t}, [videos])\r\n\r\n\tuseEffect(() => {\r\n\t\tvideos.forEach((video) => { \r\n\r\n\t\t\tvideo.onplay = (e) => stopOthersVideos(e.target);\r\n\r\n\t\t})\r\n\r\n\t}, [videos, stopOthersVideos]);\r\n\r\n\tconst observeVideos = useCallback(() => {\r\n\r\n\t\tif(!observer)\r\n\t\t\treturn;\r\n\r\n\t\tconst currentVideos = [];\r\n\r\n\t\tdocument.getElementById(containerId).childNodes.forEach((node) => {\r\n\t\t\tif(!node.childNodes[1])\r\n\t\t\t\treturn;\r\n\t\t\tif(node.childNodes[1].childNodes[0].tagName === 'VIDEO'){\r\n\t\t\t\tconst video = node.childNodes[1].childNodes[0];\r\n\t\t\t\tobserver.observe(video);\r\n\t\t\t\tcurrentVideos.push(video);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsetVideos(currentVideos);\r\n\t\t\r\n\t}, [containerId, observer]);\r\n\r\n\treturn {\r\n\t\tobserveVideos,\r\n\t}\r\n}\r\n","import { createSelector } from \"reselect\";\r\nimport { sortingByType, fuseSearch } from \"../helpers/functions\";\r\n\r\nconst getUsers = state => state.users.data \r\nconst getFavourites = state => state.favourites.data\r\nconst getSorting = state => state.app.sorting\r\nconst getSearch = state => state.app.searchString\r\n\r\nexport const sortAndFilter = createSelector(\r\n\t[getUsers, getSorting, getSearch],\r\n\t(users, {sortingType, sortingOrder}, searchString) => {\r\n\t\t\r\n\t\tlet data = sortingByType(users, sortingType);\r\n\r\n\t\tif (sortingOrder === 'desc') {\r\n\t\t\tdata.reverse()\r\n\t\t}\r\n\t\tif(searchString){\t\r\n\t\t\tdata = fuseSearch(data, searchString)\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n  )\r\nexport const sortAndFilterFavourites = createSelector(\r\n\t[getFavourites, getSorting,getSearch],\r\n\t(users, {sortingType, sortingOrder}, searchString) => {\r\n\t\t\r\n\t\tlet data = sortingByType(users, sortingType);\r\n\r\n\t\tif (sortingOrder === 'desc') {\r\n\t\t\tdata.reverse()\r\n\t\t}\r\n\t\tif(searchString){\t\r\n\t\t\tdata = fuseSearch(data, searchString)\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n  )","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\nimport Post from '../components/Post';\r\nimport { Loader } from '../components/Loader';\r\nimport { useListObserver, useVideoObserver } from '../hooks';\r\nimport { addFavourite, removeFavourite } from '../redux/actions';\r\nimport { sortAndFilter } from '../selectors';\r\n\r\nexport const Users = () => {\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst { t } = useTranslation();\r\n\tconst { userList, loading, viewType } = useSelector((state => ({\r\n\t\t\tuserList: sortAndFilter(state),\r\n\t\t\tloading: state.users.loading,\r\n\t\t\tviewType: state.app.viewType\r\n\t\t})\r\n\t))\r\n\tconst { observeList } = useListObserver('main-data', viewType);\r\n\tconst { observeVideos } = useVideoObserver('main-data');\r\n\r\n\tconst toggleFavourite = (data, favourite) => {\r\n\t\tfavourite || false ? dispatch(removeFavourite(data.id)) : dispatch(addFavourite({ ...data, favourite: true }));\r\n\t}\t\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userList.length) {\r\n\t\t\tobserveList();\r\n\t\t\tobserveVideos();\r\n\t\t}\r\n\t}, [userList, observeList, observeVideos]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\tloading ?\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<ul id={'main-data'} className={`main-data ${viewType}`}>\r\n\t\t\t\t\t\t{userList.map((data, ind) => {\r\n\t\t\t\t\t\t\treturn <Post key={data.id} data={data} ind={ind} viewType={viewType} toggleFavourite={toggleFavourite} />\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ul>\r\n\t\t\t}\r\n\t\t\t{!loading && !userList.length && <div style={{fontSize: '20px', textAlign: 'center', }}>{t(\"main.empty\")}</div>}\r\n\t\t</>\r\n\t)\r\n}","import React, { useEffect } from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport Post from '../components/Post';\r\nimport { Loader } from '../components/Loader';\r\nimport { sortAndFilterFavourites } from '../selectors';\r\nimport { useListObserver, useVideoObserver } from '../hooks';\r\nimport { addFavourite, removeFavourite } from '../redux/actions';\r\n\r\nexport const Favourites = () => {\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst { t } = useTranslation();\r\n\tconst {favourites, loading, viewType} = useSelector((state => ({\r\n\t\t\tfavourites: sortAndFilterFavourites(state),\r\n\t\t\tloading: state.app.loading,\r\n\t\t\tviewType: state.app.viewType\r\n\t\t})\r\n\t))\r\n\r\n\tconst  { observeList } = useListObserver('main-data', viewType);\r\n\tconst { observeVideos } = useVideoObserver('main-data');\r\n\r\n\tconst toggleFavourite = (data, favourite) => {\r\n\t\tfavourite || false ? dispatch(removeFavourite(data.id)) : dispatch(addFavourite({...data, favourite: true}));\r\n\t}\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tif(favourites.length){\r\n\t\t\tobserveList();\r\n\t\t\tobserveVideos();\r\n\t\t}\r\n\t}, [favourites, observeList, observeVideos]);\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\tloading ?\r\n\t\t\t\t\t<Loader/> :\r\n\t\t\t\t\t<ul id={'main-data'} className={`main-data ${viewType}`}>\r\n\t\t\t\t\t\t{favourites.map((data, ind) => {\r\n\t\t\t\t\t\t\treturn <Post key={data.id} data={data} ind={ind} viewType={viewType} toggleFavourite={toggleFavourite}/>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ul>\r\n\t\t\t}\r\n\t\t\t{!loading && !favourites.length && <div style={{fontSize: '20px', textAlign: 'center', }}>{t(\"main.empty\")}</div>}\r\n\t\t</>\r\n\t) \r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport {useDispatch} from 'react-redux'\r\n\r\nimport { Header } from './containers/Header';\r\nimport { Users } from './containers/Users';\r\nimport { Favourites } from './containers/Favourites';\r\nimport { fetchData } from './redux/actions';\r\n\r\nfunction App() {\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() =>{\r\n\t\tdispatch(fetchData())\r\n\t}, [dispatch]);\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header />\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\texact \r\n\t\t\t\t\t\tpath={\"/\"} \r\n\t\t\t\t\t\tcomponent={Users} \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t<Route \r\n\t\t\t\t\t\tpath=\"/favourites\"\r\n\t\t\t\t\t\tcomponent={Favourites} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <Route render={() => <Redirect to={{pathname: \"/\"}} />} /> */}\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux'\r\nimport { connectRouter } from 'connected-react-router'\r\n\r\nimport {app} from './appReducer'\r\nimport {favourites} from './favourites'\r\nimport {users} from './users'\r\n\r\nexport default (history) => combineReducers({\r\n\tapp,\r\n\tfavourites,\r\n\tusers,\r\n\trouter: connectRouter(history)\r\n})","import { SORTING_BY, CHANGE_LANGUAGE, SEARCH_BY, CHANGE_DATA_DISPLAY} from \"../types\";\r\nimport { getValueFromUrl } from \"../../helpers/functions\";\r\n\r\nconst sortingType = getValueFromUrl('sortingType')\r\nconst sortingOrder = getValueFromUrl('sortingOrder')\r\nconst viewType = getValueFromUrl('viewType')\r\nconst searchString = getValueFromUrl('searchString')\r\n\r\n\r\nconst initState = {\r\n\tviewType: viewType ? viewType : 'table',\r\n\tsorting: {\r\n\t\tsortingType: sortingType ? sortingType : 'id',\r\n\t\tsortingOrder: sortingOrder ? sortingOrder : 'asc'\r\n\t},\r\n\tlanguage: 'ru',\r\n\tsearchString: searchString ? searchString : '',\r\n}\r\n\r\nexport const app = (state = initState, action) => {\r\n\tswitch(action.type){\r\n\r\n\r\n\t\tcase SEARCH_BY:\r\n\t\t\treturn {...state, searchString: action.payload.searchString}\r\n\t\t\t\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\treturn {...state, language: action.payload}\r\n\r\n\t\tcase SORTING_BY:\r\n\t\t\t// let sortingOrder = (state.sorting.sortingType === action.payload.type.toLowerCase()) ? !state.sorting.sortingOrder : false;\r\n\t\t\treturn { \r\n\t\t\t\t...state, \r\n\t\t\t\tsorting: action.payload\r\n\t\t\t};\r\n\r\n\t\tcase CHANGE_DATA_DISPLAY:\r\n\t\t\treturn {...state, viewType: action.payload.viewType}\r\n\t\tdefault: return state\r\n\t}\r\n};","import { INIT_FAVOURITES, ADD_FAVOURITE, REMOVE_FAVOURITE } from \"../types\";\r\n\r\nconst initState = {\r\n\tdata: [],\r\n}\r\n\r\nexport const favourites = (state = initState, action) => {\r\n\t// console.log(action);\r\n\tswitch(action.type){\r\n\r\n\t\tcase INIT_FAVOURITES:\r\n\t\t\treturn {...state, data: action.payload}\r\n\r\n\t\tcase ADD_FAVOURITE:\r\n\t\t\treturn {...state, data: state.data.concat(action.payload)}\r\n\r\n\t\tcase REMOVE_FAVOURITE:\r\n\t\t\treturn {...state, data: state.data.filter(item => {\r\n\t\t\t\treturn item.id !== action.payload})}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t\t}\r\n}\r\n","import { TOGGLE_FAVOURITE_PROPERTY, FETCH_DATA, DATA_LOADING } from \"../types\";\r\n\r\nconst initState = {\r\n\tdata: [],\r\n}\r\n\r\nexport const users = (state = initState, action) => {\r\n\r\n\tswitch(action.type){\r\n\t\tcase TOGGLE_FAVOURITE_PROPERTY:\r\n\t\t\tlet {id, value} = action.payload\r\n\t\t\treturn \t{...state, data: state.data.map(item => { \r\n\t\t\t\treturn item.id === id ? {...item, favourite: value}  : item\r\n\t\t\t})}\r\n\t\tcase DATA_LOADING:\r\n\t\t\treturn {...state, loading: true}\r\n\t\tcase FETCH_DATA:\r\n\t\t\treturn {...state, data: action.payload, loading: false}\r\n\r\n\t\tdefault: return state\r\n\t}\r\n};","import React from 'react';\r\nimport thunk from 'redux-thunk';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createBrowserHistory } from 'history';\r\nimport { createStore, compose, applyMiddleware} from 'redux';\r\nimport { routerMiddleware, ConnectedRouter } from 'connected-react-router';\r\nimport './helpers/i18n';\r\n\r\nimport App from './App';\r\nimport rootReducer from './redux/reducer/index.js';\r\nimport './index.sass';\r\nimport {syncUrl} from './middleware'\r\n\r\nexport const history = createBrowserHistory();\r\n\r\n\r\nconst composeEnhancers =\r\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n    : compose;\r\n\r\nconst store = createStore(rootReducer(history), composeEnhancers(\r\n\tapplyMiddleware(\r\n\t\tthunk,\r\n\t\tsyncUrl,\r\n\t\trouterMiddleware(history),\r\n\t)))\r\n\r\nconst app = (\r\n\t<Provider store={store}>\r\n\t\t<ConnectedRouter history={history}>\r\n\t\t\t<App/>\r\n\t\t</ConnectedRouter>\r\n\t</Provider>\r\n\r\n)\r\n\r\nrender(app, document.getElementById('root'));","import { push } from 'connected-react-router';\r\nimport { SEARCH_BY, CHANGE_DATA_DISPLAY, SORTING_BY } from '../redux/types';\r\n\r\nexport const syncUrl = store => next => action => {\r\n    if (action.type ===  SEARCH_BY || action.type === CHANGE_DATA_DISPLAY || action.type === SORTING_BY) {\r\n\t\t\r\n\t\tconst state = store.getState();\r\n\t\t\r\n\t\tconst currentQueries = new URLSearchParams(state.router.location.search);\r\n\t\t\r\n\t\tif(!Object.values(action.payload)[0]){\r\n\t\t\tcurrentQueries.delete(Object.keys(action.payload))\r\n\t\t}\r\n\t\tObject.entries(action.payload).forEach(([key, value]) => {\r\n\t\t\tif(!value)return\r\n\t\t\tcurrentQueries.set(key, value);\r\n\t\t});\r\n\r\n        store.dispatch(push(\r\n\t\t\t\t`${state.router.location.pathname}?${currentQueries}`,\r\n\t\t\t));\r\n\t\t}\r\n    return next(action);\r\n};"],"sourceRoot":""}